{"Script":"NB.%20don't%20truncate%20JSON%20output%0A(9!%3A37)%200%201e7%200%20222%0A%0Ahttpget%20'https%3A%2F%2Fraw.githubusercontent.com%2Fnytimes%2Fcovid-19-data%2Fmaster%2Frolling-averages%2Fus-states.csv'%0Atxt%20%3D.%20fread%20'us-states.csv'%0Adata%20%3D%3A%20'%2C'%20cut%20every%20LF%20cut%20txt%0A%0AFILTER%20%3D%3A''%0A%0AsetData%20%3D%3A%203%20%3A%200%0A%20%20%20%20(%3B%3A%20'date%20geoid%20state%20cases%20cases_avg%20cases_avg_per_100k%20deaths%20deaths_avg%20deaths_avg_per_100k')%20%3D%3A%20%7C%3A%20(%20(%7D.%20y))%0A)%0A%0AsetData%20data%0A","Javascript":"","Charts":[{"WidgetType":"Tile","sizeX":2,"sizeY":1,"row":1,"col":0,"index":0,"Query":"Count%20%3D%3A%20%23%20~.%200%7B%221%20data%0AMostRecentDay%20%3D%3A%20%7B%3A%20%2F%3A~%20date%0AJSON%20%3D%3A%20(%3B%3A'Count%20MostRecent')%2C.Count%3BMostRecentDay","Html":"Latest%3A%20%7B%7Bitem.Data.MostRecent%7D%7D%3Cbr%3E%0A%23%20of%20Days%3A%20%7B%7Bitem.Data.Count%7D%7D%3Cbr%3E","Javascript":"","Title":"Data Summary"},{"WidgetType":"Chart","sizeX":6,"sizeY":6,"row":2,"col":0,"index":1,"Javascript":"layout.yaxis%20%3D%20%7B%0D%0A%20%20%20%20tickformat%3A%20'.2s'%0D%0A%7D%0D%0Aif%20(%24scope.ActiveTile%20!%3D%20undefined)%20%7B%0D%0A%20%20%20%20layout.title%20%3D%20chart.Title.replace('%40TITLE'%2C%24scope.ActiveTile.Title)%3B%0D%0A%7D%20else%20%7B%0D%0A%20%20%20%20layout.title%20%3D%20'Case%20Counts%20by%20Month'%0D%0A%7D%0D%0Alayout.legend%20%3D%20%7B%22orientation%22%3A%20%22h%22%7D%3B%0D%0Atraces.forEach(function(trace)%20%7B%0D%0A%20%20%20%20trace.type%20%3D%20'scatter'%3B%0D%0A%7D)%3B","Query":"NB.%20get%20unique%20dates%0D%0Axdates%20%3D.%20%3C%221%20(~.%20date)%0D%0ANB.%20sum%20cases%20by%20date%0D%0Aycases%20%3D.%20(date%20((%2B%2F%20%40%3A%20%22.))%2F.%20(%22.%20CurrentMetric))%0D%0AJSON%20%3D%3A%20(%3B%3A%20'Series1_name%20Series1_x%20Series1_y')%2C.(%3B%3A'Case_Counts')%3Bxdates%3Bycases","Html":"","Title":"@TITLE by Month","Formula":"cases"},{"WidgetType":"Tile","sizeX":2,"sizeY":1,"row":1,"col":2,"index":2,"Html":"Latest%3A%20%7B%7Bitem.Data.MostRecent%7Cnumeric%3A'%23%2C%23%23%23'%7D%7D%3Cbr%3E%0ATotal%20Cases%3A%20%7B%7Bitem.Data.Count%7Cnumeric%3A'%23%2C%23%23%23'%7D%7D%3Cbr%3E","Title":"Case Counts","Query":"Total%20%3D.%20%2B%2F%20%22.%20cases%0AMostRecentDay%20%3D.%20%7B%3A%20%2F%3A~%20date%0ALatest%20%3D.%20%2B%2F%20((%3C%221%20date)%3D(%3CMostRecentDay))%20%22.%40%3A%23%20cases%0AJSON%20%3D.%20(%3B%3A'Count%20MostRecent')%2C.Total%3BLatest","Formula":"cases"},{"WidgetType":"Tile","sizeX":2,"sizeY":1,"row":1,"col":4,"index":3,"Html":"Latest%3A%20%7B%7Bitem.Data.MostRecent%7Cnumeric%3A'%23%2C%23%23%23'%7D%7D%3Cbr%3E%0ATotal%20Cases%3A%20%7B%7Bitem.Data.Count%7Cnumeric%3A'%23%2C%23%23%23'%7D%7D%3Cbr%3E","Title":"Deaths","Query":"Total%20%3D.%20%2B%2F%20%22.%20deaths%0AMostRecentDay%20%3D.%20%7B%3A%20%2F%3A~%20date%0ALatest%20%3D.%20%2B%2F%20((%3C%221%20date)%3D(%3CMostRecentDay))%20%22.%40%3A%23%20deaths%0AJSON%20%3D.%20(%3B%3A'Count%20MostRecent')%2C.Total%3BLatest","Javascript":"","Formula":"deaths"},{"WidgetType":"Table","sizeX":6,"sizeY":4,"row":8,"col":0,"index":4,"Html":"%0D%0A%3Ch3%3E%7B%7Bitem.CurrentTitle%7D%7D%3C%2Fh3%3E%0D%0AGroup%20By%3A%20%3Cselect%20ng-model%3D%22item.GroupBy%22%20ng-options%3D%22c.key%20as%20c.text%20for%20c%20in%20GroupBys%22%20ng-change%3D%22ChangeGroupBy(item)%22%3E%3C%2Fselect%3E%0D%0A%0D%0A%3Cspan%20ng-show%3D%22item.Filter%22%3EFilter%3A%20%3Cspan%3E%7B%7Bitem.Filter.Column%7D%7D%3C%2Fspan%3E%3A%20%3Cspan%3E%3Cem%3E%7B%7Bitem.Filter.Value%7D%7D%3C%2Fem%3E%3C%2Fspan%3E%20%3Ca%20href%3D%22%23config%22%20eat-click%3E%3Ci%20class%3D%22glyphicon%20glyphicon-trash%22%20ng-click%3D%22RemoveFilter(item)%22%3E%3C%2Fi%3E%3C%2Fa%3E%20%3C%2Fspan%3E%0D%0A%3Cdiv%20style%3D%22overflow-y%3Ascroll%3Bheight%3A300px%22%3E%0D%0A%3Ctable%20class%3D%22table%22%20%3E%0D%0A%3Cthead%3E%0D%0A%3Ctr%3E%0D%0A%3Cth%20ng-repeat%3D%22col%20in%20item.Cols%22%20style%3D%22cursor%3Apointer%3Btext-align%3Acenter%22%20ng-click%3D%22ChangeSorting(item%2C%20col.Column)%22%3E%7B%7Bcol.Display%7D%7D%3C%2Fth%3E%0D%0A%3C%2Ftr%3E%0D%0A%3C%2Fthead%3E%0D%0A%3Ctbody%3E%0D%0A%3Ctr%20ng-repeat%3D%22row%20in%20item.Rows%22%3E%0D%0A%3Ctd%20ng-repeat%3D%22col%20in%20item.Cols%22%20%20style%3D%22text-align%3Acenter%22%3E%0D%0A%3Cdiv%20ng-switch%20on%3D%22col.Filterable%22%3E%0D%0A%3Cdiv%20style%3D%22text-align%3Aleft%22%3E%3Ca%20href%3D%22%22%20ng-switch-when%3D%22true%22%20eat-click%20ng-click%3D%22AddFilter(item%2C%20row%2Ccol)%22%3E%7B%7BgetText(row%2C%20col)%7D%7D%3C%2Fa%3E%3C%2Fdiv%3E%0D%0A%3Cspan%20ng-switch-default%3E%7B%7BgetText(row%2C%20col)%7D%7D%3C%2Fspan%3E%0D%0A%3C%2Fdiv%3E%0D%0A%3C%2Ftd%3E%0D%0A%3C%2Ftr%3E%0D%0A%3C%2Ftbody%3E%0D%0A%3C%2Ftable%3E%0D%0A%3C%2Fdiv%3E","Javascript":"if%20(!chart.GroupBy)%20%7B%20chart.GroupBy%20%3D%20'state'%3B%7D%0D%0Achart.Cols%20%3D%20%5B%0D%0A%20%20%20%20%7BDisplay%3A%20chart.GroupBy%2C%20Column%3A%20'groupby'%2C%20Filterable%3Atrue%7D%2C%0D%0A%20%20%20%20%7BDisplay%3A%20'Total'%2C%20Column%3A%20'metric'%2C%20NumericFormat%3A%20'%23%2C%23%23%23'%7D%2C%0D%0A%5D%0D%0A%0D%0A%2F%2Fchart.CurrentTitle%20%3D%20chart.Title.replace('%40TITLE'%2C%24scope.ActiveTile.Title)%3B%0D%0A%0D%0A%24scope.UpdateFilters%20%3D%20function()%20%7B%0D%0A%20%20%20%20if%20(%24scope.Filter)%20%7B%0D%0A%20%20%20%20%20%20%20%20jsetstr(%22FILTER%22%2C%20%24scope.Filter.Value.trim())%3B%0D%0A%20%20%20%20%20%20%20%20jdo1(%220%20%5B%20setData%20((2%7B%5C%221%20data)%20%3D%20(%3CFILTER))%20%23%20data%22)%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20jdo1(%220%20%5B%20setData%20data%22)%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%24scope.DrawCharts()%3B%0D%0A%7D%0D%0A%24scope.RemoveFilter%20%3D%20function(item)%20%7B%20%0D%0A%20%20%20%20delete%20item.Filter%3B%20%0D%0A%20%20%20%20delete%20%24scope.Filter%3B%0D%0A%20%20%20%20%24scope.UpdateFilters()%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0A%24scope.AddFilter%20%3D%20function(item%2C%20row%2C%20col)%20%7B%20%0D%0A%20%20%20%20item.Filter%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20item.Filter.Column%20%3D%20col.Column%3B%0D%0A%20%20%20%20item.Filter.Value%20%3D%20row%5Bcol.Column%5D%3B%0D%0A%20%20%20%20%24scope.Filter%20%3D%20item.Filter%3B%0D%0A%20%20%20%20%24scope.UpdateFilters()%0D%0A%7D%0D%0A%0D%0A%24scope.GroupBys%20%3D%20%5B%0D%0A%20%20%20%20%7Bkey%3A'state'%2Ctext%3A'state'%7D%0D%0A%5D%0D%0A%0D%0Ascope.ChangeGroupBy%20%3D%20function(item)%20%7B%0D%0A%20%20%20%20scope.GroupBy%20%3D%20(item.GroupBy%7C%7C'')%3B%0D%0A%20%20%20%20scope.DrawCharts(item.index)%3B%0D%0A%7D%0D%0A%0D%0A%24scope.getText%20%3D%20function(row%2C%20col)%20%7B%0D%0Avar%20val%20%3D%20row%5Bcol.Column%5D%3B%0D%0Aif%20(col%20%26%26%20col.NumericFormat)%20%7B%0D%0A%20%20%20%20return%20numeral(val).format(col.NumericFormat)%3B%0D%0A%7D%20else%20%7B%20%0D%0A%20%20%20%20return%20val.toString().trim()%3B%0D%0A%7D%0D%0A%7D%0D%0Akeys%20%3D%20Object.keys(chart.Data)%3B%0D%0Achart.Rows%20%3D%20chart.Data%5Bkeys%5B0%5D%5D.map((k%2Cidx)%3D%3E%7B%20%0D%0A%20%20%20var%20row%20%3D%20%7B%7D%0D%0A%20%20%20%20keys.forEach((x%2Ci)%3D%3E%7Brow%5Bkeys%5Bi%5D%5D%20%3D%20chart.Data%5Bkeys%5Bi%5D%5D%5Bidx%5D%7D)%0D%0A%20%20%20%20return%20row%3B%0D%0A%7D)%0D%0A","GroupBy":"state","GroupBy2":"","Cols":[{"Display":"state","Column":"groupby","Filterable":true},{"Display":"Total","Column":"metric","NumericFormat":"#,###"}],"Title":"Details","CurrentTitle":"Details","Query":"values%20%3D.%20(state%20((%2B%2F%20%40%3A%20%22.))%2F.%20(%22.%20CurrentMetric))%0D%0Agroupby%20%3D.%20(%3C%221%20~.%20state)%0D%0ANB.%20sort%20groupby%20alpha%0D%0Asort%20%3D.%20%2F%3A%20groupby%0D%0Agroupby%20%3D.%20sort%20%7B%20groupby%0D%0ANB.%20sort%20values%20by%20groupby%0D%0Avalues%20%3D.%20sort%20%7B%20values%0D%0AJSON%20%3D%3A%20(%3B%3A%20'groupby%20metric')%2C.groupby%3Bvalues%0D%0A","NumericFormat":"","Rows":[{"groupby":"Alabama                 ","metric":1312437},{"groupby":"Alaska                  ","metric":258867},{"groupby":"American Samoa          ","metric":6053},{"groupby":"Arizona                 ","metric":2049627},{"groupby":"Arkansas                ","metric":842439},{"groupby":"California              ","metric":9557283},{"groupby":"Colorado                ","metric":1445162},{"groupby":"Connecticut             ","metric":806467},{"groupby":"Delaware                ","metric":274899},{"groupby":"District of Columbia    ","metric":149271},{"groupby":"Florida                 ","metric":6125115},{"groupby":"Georgia                 ","metric":2485185},{"groupby":"Guam                    ","metric":49937},{"groupby":"Hawaii                  ","metric":267602},{"groupby":"Idaho                   ","metric":451055},{"groupby":"Illinois                ","metric":3292157},{"groupby":"Indiana                 ","metric":1730761},{"groupby":"Iowa                    ","metric":776520},{"groupby":"Kansas                  ","metric":786784},{"groupby":"Kentucky                ","metric":1361685},{"groupby":"Louisiana               ","metric":1257148},{"groupby":"Maine                   ","metric":262097},{"groupby":"Maryland                ","metric":1083691},{"groupby":"Massachusetts           ","metric":1863077},{"groupby":"Michigan                ","metric":2527831},{"groupby":"Minnesota               ","metric":1505292},{"groupby":"Mississippi             ","metric":806838},{"groupby":"Missouri                ","metric":1470426},{"groupby":"Montana                 ","metric":277837},{"groupby":"Nebraska                ","metric":485756},{"groupby":"Nevada                  ","metric":735021},{"groupby":"New Hampshire           ","metric":324373},{"groupby":"New Jersey              ","metric":2381173},{"groupby":"New Mexico              ","metric":533867},{"groupby":"New York                ","metric":5404333},{"groupby":"North Carolina          ","metric":2746340},{"groupby":"North Dakota            ","metric":244278},{"groupby":"Northern Mariana Islands","metric":11333},{"groupby":"Ohio                    ","metric":2763123},{"groupby":"Oklahoma                ","metric":1048988},{"groupby":"Oregon                  ","metric":760804},{"groupby":"Pennsylvania            ","metric":2913240},{"groupby":"Puerto Rico             ","metric":691043},{"groupby":"Rhode Island            ","metric":391275},{"groupby":"South Carolina          ","metric":1495762},{"groupby":"South Dakota            ","metric":239704},{"groupby":"Tennessee               ","metric":2008204},{"groupby":"Texas                   ","metric":6849192},{"groupby":"Utah                    ","metric":949210},{"groupby":"Vermont                 ","metric":131460},{"groupby":"Virgin Islands          ","metric":19442},{"groupby":"Virginia                ","metric":1777813},{"groupby":"Washington              ","metric":1577553},{"groupby":"West Virginia           ","metric":513953},{"groupby":"Wisconsin               ","metric":1669598},{"groupby":"Wyoming                 ","metric":157861}],"sort":{"column":"groupby","descending":false}},{"WidgetType":"Tile","sizeX":8,"sizeY":1,"row":0,"col":0,"index":5,"Html":"%3Cdiv%20style%3D%22text-align%3Aleft%3Bpadding-left%3A40px%22%3E%0AExample%20dashboard%20using%20J%20displaying%20the%20latest%20NY%20Times%20Covid%20Data%20-%20queried%20on%20page%20load%20from%20%3Ca%20href%3D%22https%3A%2F%2Fgithub.com%2Fnytimes%2Fcovid-19-data%2Ftree%2Fmaster%2Frolling-averages%22%3EGiHub.%3C%2Fa%3E%0A%3Cbr%3E%0AClick%20Developer%20mode%20to%20modify%20for%20your%20local%20browser%20instance%20(unsaved).%20Each%20dashboard%20config%20is%20self%20contained%20in%20a%20json%20file%0A%3Cbr%3E%0ATo%20save%2C%20clone%20repo%20and%20click%20Save%20to%20copy%20to%20clipboard%20and%20overwrite%20or%20create%20a%20new%20copy%20of%20dashboard.json%3Cbr%3E%0AThis%20uses%20the%20WASM%20port%20of%20the%20jengine%20and%20the%20pjson%20addon%20(embedded)%20and%20plotly%20for%20plotting.%0A%3C%2Fdiv%3E","MarginTop":"0"}]}